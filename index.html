<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Fairuz & Izzati Wedding</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

<!-- Gate Animation -->
<div class="gate-left" id="gateLeft"></div>
<div class="gate-right" id="gateRight"></div>
<button class="open-btn" onclick="openGate()">Open</button>

<!-- Background Music -->
<audio id="bgMusic" src="assets/music.mp3" loop preload="auto"></audio>

<!-- Main Content -->
<main id="mainContent" class="hidden">

  <!-- Video Section -->
  <div class="video-container">
    <video src="assets/video.mp4" autoplay muted loop playsinline></video>
  </div>

  <!-- Invitation Details -->
  <section class="invitation">
    <p>With heartfelt gratitude to God Almighty</p>
    <h3>Ahmad Bin Abdullah<br>&<br>Fatimah Binti Abu</h3>
    <p>cordially invite</p>
    <h2>Noradam bin Ahmad<br>&<br>Nur Hawa Binti Ali</h2>
    <p>to the wedding reception of their son and daughter</p>
    <h3>VENUE</h3>
    <p>Glass House Glenmarie<br>14 May 2025, 11:00 AM ‚Äì 5:00 PM</p>
  </section>

  <!-- Program Section -->
  <section class="program">
    <div class="program-card">
      <img src="assets/gate-left.png" class="decor decor-left" />
      <img src="assets/gate-right.png" class="decor decor-right" />
      <h3>PROGRAMME</h3>
      <p>Lunch: <strong>1:00 pm - 4:00 pm</strong></p>
      <p>The Arrival of Bride & Groom: <strong>12:00 pm</strong></p>
      <p>Nikah Ceremony: <strong>12:30 pm</strong></p>
    </div>
  </section>

  <!-- Countdown -->
  <section class="countdown" id="countdown">
    <h2>Countdown Kak Atie Kahwin</h2>
    <div id="timer"></div>
  </section>

  <!-- Gallery -->
  <section class="gallery">
    <h3>Pictures</h3>
    <div class="swiper-container">
      <div class="swiper-wrapper">
        <div class="swiper-slide"><img src="assets/photo1.png" alt="Photo 1" /></div>
        <div class="swiper-slide"><img src="assets/photo2.png" alt="Photo 2" /></div>
        <div class="swiper-slide"><img src="assets/photo3.png" alt="Photo 3" /></div>
      </div>
      <div class="swiper-pagination"></div>
    </div>
  </section>
  
  <!-- Swiper CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

  
</main>

<!-- ‚úÖ All MODALS should go ABOVE bottom nav -->





<!-- GIFT MODAL -->
<div id="giftModal" class="modal">
  <div class="modal-content gift-modal">
    <span class="close" onclick="closeModal('giftModal')">&times;</span>
    <h3>GIFT</h3>

    <!-- Touch 'n Go -->
    <div class="gift-card">
      <div class="gift-title">
        <img src="assets/TngLogo.png" alt="TnG Logo" />
        <span>Touch 'n Go</span>
      </div>
      <img src="assets/tng.jpeg" alt="Touch 'n Go QR" class="qr-image" />
      <p class="recipient-name">Muhammad Shafiq Faris Bin Shamsul Ariffin</p>
    </div>

    <!-- Maybank -->
    <div class="gift-card">
      <div class="gift-title">
        <img src="assets/MaybankLogo.png" alt="Maybank Logo" />
        <span>Maybank</span>
      </div>
      <img src="assets/maybank.png" alt="Maybank QR" class="qr-image" />
      <p class="recipient-name">Muhammad Shafiq Faris Bin Shamsul Ariffin</p>
    </div>
  </div>
</div>



<!-- Call Modal -->
<!-- CALL Modal -->
<div id="callModal" class="modal">
  <div class="modal-content contact-modal">
    <span class="close" onclick="closeModal('callModal')">&times;</span>
    <h3>CONTACT</h3>

    <!-- Contact 1 -->
    <div class="contact-entry">
      <div class="contact-info">
        <strong>Ahmad</strong><br><em>Bapa</em>
      </div>
      <div class="contact-actions">
        <a href="https://wa.me/60123456789" target="_blank" class="wa-btn" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="tel:+60123456789" class="phone-number">+60 12-345 6789</a>
      </div>
    </div>

    <!-- Contact 2 -->
    <div class="contact-entry">
      <div class="contact-info">
        <strong>Fateh</strong><br><em>Abang</em>
      </div>
      <div class="contact-actions">
        <a href="https://wa.me/60129876543" target="_blank" class="wa-btn" title="WhatsApp">
          <i class="fab fa-whatsapp"></i>
        </a>
        <a href="tel:+60129876543" class="phone-number">+60 12-987 6543</a>
      </div>
    </div>
  </div>
</div>

<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">

<!-- MAP MODAL -->
<div id="mapModal" class="modal">
  <div class="modal-content location-modal">
    <span class="close" onclick="closeModal('mapModal')">&times;</span>
    <h3>LOCATION</h3>

    <p class="venue-name">GLASS HOUSE GLENMARIE</p>
    <p class="venue-address">
      LOT 16859, 3 Stone Park, Jalan Penyair U1/44,<br>
      Hicom-Glenmarie Industrial Park,<br>
      40150 Shah Alam, Selangor
    </p>

    <div class="location-buttons">
      <a href="https://goo.gl/maps/sRyxHZrHT7M3S4Z48" class="map-btn" target="_blank">
        <img src="assets/google.png" alt="Google Maps Icon" />
        Maps
      </a>
    
      <a href="https://ul.waze.com/ul?place=ChIJFeIA5nY3zDERczvTo7gJuJY" class="map-btn" target="_blank">
        <img src="assets/waze.png" alt="Waze Icon" />
        Waze
      </a>
    </div>
    
    </div>
  </div>
</div>

<!-- RSVP CHOICE MODAL -->
<div id="rsvpChoiceModal" class="modal">
  <div class="modal-content rsvp-modal">
    <span class="close" onclick="closeModal('rsvpChoiceModal')">&times;</span>
    <h3>RSVP & WISHES</h3>
    <div class="rsvp-buttons">
      <button onclick="openModal('rsvpYesModal')">‚úî Attending</button>
      <button onclick="openModal('rsvpNoModal')">‚úò Not Attending</button>
    </div>
  </div>
</div>

<!-- ATTENDING MODAL -->
<div id="rsvpYesModal" class="modal">
  <div class="modal-content rsvp-modal">
    <span class="close" onclick="closeModal('rsvpYesModal')">&times;</span>
    <h3>RSVP & WISHES</h3>
    <p class="rsvp-note">We apologize, attendance is limited to <strong>TWO</strong> people per family.</p>

    <form id="attendingForm">
      <input name="Name" type="text" placeholder="Name*" required />
      <input name="Phone" type="tel" placeholder="Phone Number*" required />
      <input name="Email" type="email" placeholder="Email Address*" required />
      <select name="Attendance">
        <option value="1">1 person</option>
        <option value="2">2 people</option>
      </select>
      <textarea name="Wishes" placeholder="Wishes"></textarea>

      <div class="form-actions">
        <button type="submit">Submit</button>
        <button type="button" onclick="closeModal('rsvpYesModal')">Cancel</button>
      </div>
    </form>
  </div>
</div>

<!-- NOT ATTENDING MODAL -->
<div id="rsvpNoModal" class="modal">
  <div class="modal-content rsvp-modal">
    <span class="close" onclick="closeModal('rsvpNoModal')">&times;</span>
    <h3>RSVP & WISHES</h3>
    <p class="rsvp-note">We understand. Feel free to leave a wish üíê</p>

    <form id="notAttendingForm">
      <input name="Name" type="text" placeholder="Name*" required />
      <input name="Phone" type="tel" placeholder="Phone Number*" required />
      <input name="Email" type="email" placeholder="Email Address*" required />
      <textarea name="Wishes" placeholder="Wishes"></textarea>

      <div class="form-actions">
        <button type="submit">Submit</button>
        <button type="button" onclick="closeModal('rsvpNoModal')">Cancel</button>
      </div>
    </form>
  </div>
</div>


<div class="bottom-nav">
  <a onclick="openModal('callModal')">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8">
      <path d="M22 16.92v3a2 2 0 0 1-2.18 2A19.86 19.86 0 0 1 3 5.18 2 2 0 0 1 5 3h3a2 2 0 0 1 2 1.72c.12.83.37 1.63.73 2.38a2 2 0 0 1-.45 2.11L9 11a16 16 0 0 0 4 4l1.79-1.28a2 2 0 0 1 2.11-.45c.75.36 1.55.61 2.38.73A2 2 0 0 1 22 16.92z" />
    </svg>
    <span>Call</span>
  </a>

  <a onclick="openModal('mapModal')">
    <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5A2.5 2.5 0 1 1 14.5 9 2.5 2.5 0 0 1 12 11.5z"/></svg>
    <span>Map</span>
  </a>
  

  <a onclick="openModal('giftModal')">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
      <path d="M20 12v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-8M2 7h20M12 22V7" />
    </svg>
    <span>Gift</span>
  </a>

  <a onclick="openModal('rsvpChoiceModal')">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" stroke="currentColor" stroke-width="1.8" viewBox="0 0 24 24">
      <rect x="4" y="4" width="16" height="16" rx="2" />
      <path d="M4 9h16" />
    </svg>
    <span>RSVP</span>
  </a>
</div>

<script>
  const gateLeft = document.getElementById("gateLeft");
  const gateRight = document.getElementById("gateRight");
  const music = document.getElementById("bgMusic");
  const mainContent = document.getElementById("mainContent");

  function openGate() {
    gateLeft.classList.add("open");
    gateRight.classList.add("open");
    document.querySelector(".open-btn").classList.add("hidden");
    music.play();
    setTimeout(() => {
      gateLeft.style.display = "none";
      gateRight.style.display = "none";
      mainContent.classList.remove("hidden");
    }, 1200);
  }

  const countdownDate = new Date("May 25, 2025 13:00:00").getTime();
  const timer = document.getElementById("timer");

  setInterval(() => {
    const now = new Date().getTime();
    const distance = countdownDate - now;
    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);
    timer.innerHTML = `${days}d ${hours}h ${minutes}m ${seconds}s`;
  }, 1000);

  function openModal(id) {
    document.getElementById(id).style.display = 'flex';
  }

  function closeModal(id) {
    document.getElementById(id).style.display = 'none';
  }

  
</script>

<!-- Swiper JS -->
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script>
  const swiper = new Swiper('.swiper-container', {
    loop: true,
    autoplay: {
      delay: 2500,
      disableOnInteraction: false,
    },
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    spaceBetween: 20,
  });
</script>

<!-- Modal Logic + Submit Handler -->
<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbyH5p9Gm3wg3YbfRR4fztkesZu-OE8ZD9LJNLHXWE6aV1cSasrk3sZ-U2pvcE625fwu/exec'; // <-- Replace this!

  function openModal(id) {
    document.getElementById(id).style.display = 'flex';
  }

  function closeModal(id) {
    document.getElementById(id).style.display = 'none';
  }

  function submitToSheet(data, modalId) {
    fetch(scriptURL, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      },
      body: JSON.stringify(data)
    })
    .then(response => response.json())
    .then(response => {
      if (response.result === 'success') {
        alert("‚úÖ Thank you! Your RSVP has been recorded.");
        closeModal(modalId);
      } else if (response.result === 'duplicate') {
        alert("‚ö†Ô∏è This phone number has already RSVP'd.");
      } else if (response.result === 'missing_fields') {
        alert("‚ö†Ô∏è Please fill in all required fields.");
      } else {
        alert("‚ùå Error: " + (response.message || "Unknown error."));
      }
    })
    .catch(error => {
      console.error("Fetch error:", error);
      alert("Something went wrong. Please try again later.");
    });
  }

  document.getElementById('attendingForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const f = e.target.elements;
  const formData = {
    status: 'Attending',
    name: f.Name.value,
    phone: f.Phone.value,
    email: f.Email.value,
    attendance: f.Attendance.value,
    wishes: f.Wishes.value
  };
  submitToSheet(formData, 'rsvpYesModal');
});

document.getElementById('notAttendingForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const f = e.target.elements;
  const formData = {
    status: 'Not Attending',
    name: f.Name.value,
    phone: f.Phone.value,
    email: f.Email.value,
    wishes: f.Wishes.value
  };
  submitToSheet(formData, 'rsvpNoModal');
});

</script>


</body>
</html>
